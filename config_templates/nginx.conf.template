# nginx.conf.template
worker_processes auto;

events {
    worker_connections 1024;
}

stream {
    upstream websocket_backend {
        least_conn;
        server ${GATEWAY_HOST}:${GATEWAY_PORT};
    }
    
    server {
        listen ${NGINX_PORT};
        proxy_pass websocket_backend;
        proxy_connect_timeout 10;
        proxy_timeout 3600;
    }
}